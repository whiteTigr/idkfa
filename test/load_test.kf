// for Proteus compiler
                 // Запись программы
#COM 1           // по нужному COM-порту
#BAUDRATE 115200 // с нужной скоростью
#PACKSIZE= 1     // пакетами по PACKSIZE байт
#WAITCOEF= 2     // с задержкой, вычисляемой по формуле
                 // (PackSize * 8 / BaudRate) * WaitCoef секунд
// Если программа не зашивается, попробуйте уменьшить размер пакетов
// и увеличить задержку

#MaxCode= 65536
#MaxData= 65536

STRUCT TA
  1 -- a
  1 -- b
END-STRUCT

STRUCT TB
  1 -- a
  1 -- b
  TA -- c
  TA -- d
END-STRUCT


TB* test

TB test2

TB@ test3
TA@ test4

TB data
TB@ data_ref
TA@ sub_ref

TB.NoAllot test5

MAIN:
data data_ref !
data.c sub_ref !

123 data.c.a !
sub_ref.a

BEGIN
AGAIN

